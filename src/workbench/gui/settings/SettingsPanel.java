/*
 * SettingsPanel.java
 *
 * This file is part of SQL Workbench/J, http://www.sql-workbench.net
 *
 * Copyright 2002-2006, Thomas Kellerer
 * No part of this code maybe reused without the permission of the author
 *
 * To contact the author please send an email to: support@sql-workbench.net
 *
 */
package workbench.gui.settings;

import java.awt.event.ActionListener;
import javax.swing.ActionMap;
import javax.swing.InputMap;
import javax.swing.JComponent;

import javax.swing.JDialog;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JRootPane;
import javax.swing.WindowConstants;

import workbench.gui.WbSwingUtilities;
import workbench.gui.actions.EscAction;
import workbench.gui.components.NumberField;
import workbench.gui.components.WbButton;
import workbench.gui.help.HtmlViewer;
import workbench.resource.ResourceMgr;
import workbench.resource.Settings;
import workbench.util.FileDialogUtil;
import workbench.util.StringUtil;

/**
 *
 * @author  sql.workbench@freenet.de
 */
public class SettingsPanel
	extends JPanel
	implements ActionListener
{
	private String escActionCommand;

	public SettingsPanel()
	{
		initComponents();
		this.enableDbmsOutput.addActionListener(this);
		this.defaultBufferSize.setEnabled(this.enableDbmsOutput.isSelected());
		this.pkMapFile.setCaretPosition(0);
		
		// It is important to add these in the correct order
		// which is defined by the numeric values from Settings.SHOW_NO_FILENAME
		// SHOW_FILENAME and SHOW_FULL_PATH
		this.windowTitleComboBox.addItem(ResourceMgr.getString("TxtShowNone"));
		this.windowTitleComboBox.addItem(ResourceMgr.getString("TxtShowName"));
		this.windowTitleComboBox.addItem(ResourceMgr.getString("TxtShowPath"));
		int type = Settings.getInstance().getShowFilenameInWindowTitle();
		if (type >= Settings.SHOW_NO_FILENAME && type <= Settings.SHOW_FULL_PATH)
		{
			this.windowTitleComboBox.setSelectedIndex(type);
		}
		
		String paste = Settings.getInstance().getAutoCompletionPasteCase();
		if ("lower".equals(paste)) this.completionPasteCase.setSelectedIndex(0);
		else if ("lower".equals(paste)) this.completionPasteCase.setSelectedIndex(1);
		else this.completionPasteCase.setSelectedIndex(2);
		
		this.errorColor.setColor(Settings.getInstance().getEditorErrorColor());
		this.selectionColor.setColor(Settings.getInstance().getEditorSelectionColor());
		this.requiredFieldColor.setColor(Settings.getInstance().getRequiredFieldColor());
		
		editorFont.setSelectedFont(Settings.getInstance().getEditorFont());
		dataFont.setSelectedFont(Settings.getInstance().getDataFont());
		msgLogFont.setSelectedFont(Settings.getInstance().getMsgLogFont());
		standardFont.setSelectedFont(Settings.getInstance().getStandardFont());
	}

	/** This method is called from within the constructor to
	 * initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is
	 * always regenerated by the Form Editor.
	 */
  // <editor-fold defaultstate="collapsed" desc=" Generated Code ">//GEN-BEGIN:initComponents
  private void initComponents()
  {
    java.awt.GridBagConstraints gridBagConstraints;

    mainTab = new javax.swing.JTabbedPane();
    generalPanel = new javax.swing.JPanel();
    useEncryptionLabel = new javax.swing.JLabel();
    useEncryption = new javax.swing.JCheckBox();
    dateFormatLabel = new javax.swing.JLabel();
    dateFormatTextField = new javax.swing.JTextField();
    decimalLabel = new javax.swing.JLabel();
    decimalField = new javax.swing.JTextField();
    maxDigitsLabel = new javax.swing.JLabel();
    maxDigitsField = new NumberField();
    maxColSizeLabel = new javax.swing.JLabel();
    maxColSizeField = new NumberField();
    textDelimiterLabel = new javax.swing.JLabel();
    textDelimiterField = new javax.swing.JTextField();
    quoteCharLabel = new javax.swing.JLabel();
    quoteCharField = new javax.swing.JTextField();
    jPanel1 = new javax.swing.JPanel();
    enableDbmsOutputLabel = new javax.swing.JLabel();
    enableDbmsOutput = new javax.swing.JCheckBox();
    enableAnimatedIconLabel = new javax.swing.JLabel();
    enableAnimatedIcon = new javax.swing.JCheckBox();
    consolidateLogLabel = new javax.swing.JLabel();
    consolidateLog = new javax.swing.JCheckBox();
    defaultBufferSize = new javax.swing.JTextField();
    bufferSizeLabel = new javax.swing.JLabel();
    timestampFormatLabel = new javax.swing.JLabel();
    timestampFormatTextField = new javax.swing.JTextField();
    msgFontLabel = new javax.swing.JLabel();
    standardFontLabel = new javax.swing.JLabel();
    msgLogFont = new workbench.gui.components.WbFontPicker();
    standardFont = new workbench.gui.components.WbFontPicker();
    editorTab = new javax.swing.JPanel();
    autoAdvanceLabel = new javax.swing.JLabel();
    autoAdvance = new javax.swing.JCheckBox();
    editorTabSizeLabel = new javax.swing.JLabel();
    tabSize = new javax.swing.JTextField();
    altDelimLabel = new javax.swing.JLabel();
    altDelimitTextField = new javax.swing.JTextField();
    historySizeLabel = new javax.swing.JLabel();
    historySizeField = new NumberField();
    electricScrollLabel = new javax.swing.JLabel();
    electricScroll = new javax.swing.JTextField();
    rightClickLabel = new javax.swing.JLabel();
    rightClickMovesCursor = new javax.swing.JCheckBox();
    windowTitleLabel = new javax.swing.JLabel();
    windowTitleComboBox = new javax.swing.JComboBox();
    selectionColorLabel = new javax.swing.JLabel();
    errorColor = new workbench.gui.components.WbColorPicker();
    errorColorLabel = new javax.swing.JLabel();
    selectionColor = new workbench.gui.components.WbColorPicker();
    editorFontLabel = new javax.swing.JLabel();
    editorFont = new workbench.gui.components.WbFontPicker();
    labelCloseSearch = new javax.swing.JLabel();
    closePopup = new javax.swing.JCheckBox();
    completionPasteCase = new javax.swing.JComboBox();
    pasteLabel = new javax.swing.JLabel();
    dataEdit = new javax.swing.JPanel();
    pkMapFileLabel = new javax.swing.JLabel();
    jPanel3 = new javax.swing.JPanel();
    pkMapFile = new javax.swing.JTextField();
    selectMapFile = new javax.swing.JButton();
    previewDmlLabel = new javax.swing.JLabel();
    previewDml = new javax.swing.JCheckBox();
    labelRowHeight = new javax.swing.JLabel();
    rowHeightResize = new javax.swing.JCheckBox();
    requiredFieldLabel = new javax.swing.JLabel();
    requiredFieldColor = new workbench.gui.components.WbColorPicker();
    dataFontLabel = new javax.swing.JLabel();
    dataFont = new workbench.gui.components.WbFontPicker();
    highlightRequiredLabel = new javax.swing.JLabel();
    highlightRequired = new javax.swing.JCheckBox();
    explorerPanel = new javax.swing.JPanel();
    dbExplorerLabel = new javax.swing.JLabel();
    showDbExplorer = new javax.swing.JCheckBox();
    retrieveDbExplorer = new javax.swing.JCheckBox();
    retrieveDbExplorerLabel = new javax.swing.JLabel();
    defTableTypeLabel1 = new javax.swing.JLabel();
    defTableTypeField = new javax.swing.JTextField();
    rememberSchemaLabel = new javax.swing.JLabel();
    storeExplorerSchema = new javax.swing.JCheckBox();
    rememberObjectLabel = new javax.swing.JLabel();
    rememberObject = new javax.swing.JCheckBox();
    formatterPanel = new javax.swing.JPanel();
    internalFormatterPanel = new javax.swing.JPanel();
    formatUpdates = new javax.swing.JCheckBox();
    formatUpdatesLabel = new javax.swing.JLabel();
    formatInsertsLabel = new javax.swing.JLabel();
    formatInserts = new javax.swing.JCheckBox();
    insertColThresholdLbl = new javax.swing.JLabel();
    insertThreshold = new javax.swing.JTextField();
    updateThreshold = new javax.swing.JTextField();
    updateColThresholdLbl = new javax.swing.JLabel();
    ignoreIdentityLabel = new javax.swing.JLabel();
    ignoreIdentity = new javax.swing.JCheckBox();
    jSeparator1 = new javax.swing.JSeparator();
    insertColsPerLine = new javax.swing.JTextField();
    colsPerLineLabel = new javax.swing.JLabel();
    jSeparator2 = new javax.swing.JSeparator();
    includeOwner = new javax.swing.JCheckBox();
    includeOwnerLabel = new javax.swing.JLabel();
    editorFormatterPanel = new javax.swing.JPanel();
    subselectMaxLabel = new javax.swing.JLabel();
    subselectMaxLength = new javax.swing.JTextField();
    maxCharElementsLabel = new javax.swing.JLabel();
    maxCharElements = new javax.swing.JTextField();
    maxNumElementsLabel = new javax.swing.JLabel();
    maxNumElements = new javax.swing.JTextField();
    selectColumns = new javax.swing.JTextField();
    selectColumnsLabel = new javax.swing.JLabel();
    buttonPanel = new javax.swing.JPanel();
    okButton = new WbButton();
    cancelButton = new WbButton();
    helpButton = new javax.swing.JButton();

    setLayout(new java.awt.BorderLayout());

    mainTab.setFont(null);
    generalPanel.setLayout(new java.awt.GridBagLayout());

    useEncryptionLabel.setLabelFor(useEncryption);
    useEncryptionLabel.setText(ResourceMgr.getString("LblUseEncryption"));
    useEncryptionLabel.setToolTipText(ResourceMgr.getDescription("LblUseEncryption"));
    useEncryptionLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        useEncryptionLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(8, 12, 0, 0);
    generalPanel.add(useEncryptionLabel, gridBagConstraints);

    useEncryption.setFont(null);
    useEncryption.setSelected(Settings.getInstance().getUseEncryption());
    useEncryption.setText("");
    useEncryption.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    useEncryption.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    useEncryption.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(8, 7, 0, 11);
    generalPanel.add(useEncryption, gridBagConstraints);

    dateFormatLabel.setFont(null);
    dateFormatLabel.setText(ResourceMgr.getString("LblDateFormat"));
    dateFormatLabel.setToolTipText(ResourceMgr.getDescription("LblDateFormat"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 11;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(6, 12, 0, 0);
    generalPanel.add(dateFormatLabel, gridBagConstraints);

    dateFormatTextField.setFont(getFont());
    dateFormatTextField.setText(Settings.getInstance().getDefaultDateFormat());
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 11;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(6, 10, 0, 15);
    generalPanel.add(dateFormatTextField, gridBagConstraints);

    decimalLabel.setText(ResourceMgr.getString("LblDecimalSymbol"));
    decimalLabel.setToolTipText(ResourceMgr.getDescription("LblDecimalSymbol"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 13;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
    generalPanel.add(decimalLabel, gridBagConstraints);

    decimalField.setText(Settings.getInstance().getDecimalSymbol());
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 13;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 15);
    generalPanel.add(decimalField, gridBagConstraints);

    maxDigitsLabel.setText(ResourceMgr.getString("LblMaxDigits"));
    maxDigitsLabel.setToolTipText(ResourceMgr.getDescription("LblMaxDigits"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 14;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
    generalPanel.add(maxDigitsLabel, gridBagConstraints);

    maxDigitsField.setText(Integer.toString(Settings.getInstance().getMaxFractionDigits()));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 14;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 15);
    generalPanel.add(maxDigitsField, gridBagConstraints);

    maxColSizeLabel.setText(ResourceMgr.getString("LblMaxColsize"));
    maxColSizeLabel.setToolTipText(ResourceMgr.getDescription("LblMaxColsize"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 15;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
    generalPanel.add(maxColSizeLabel, gridBagConstraints);

    maxColSizeField.setText(Integer.toString(Settings.getInstance().getMaxColumnWidth()));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 15;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 15);
    generalPanel.add(maxColSizeField, gridBagConstraints);

    textDelimiterLabel.setText(ResourceMgr.getString("LblFieldDelimiter"));
    textDelimiterLabel.setToolTipText(ResourceMgr.getDescription("LblFieldDelimiter"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 16;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
    generalPanel.add(textDelimiterLabel, gridBagConstraints);

    textDelimiterField.setHorizontalAlignment(javax.swing.JTextField.LEFT);
    textDelimiterField.setText(Settings.getInstance().getDefaultTextDelimiter(true));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 16;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 15);
    generalPanel.add(textDelimiterField, gridBagConstraints);

    quoteCharLabel.setText(ResourceMgr.getString("LblQuoteChar"));
    quoteCharLabel.setToolTipText(ResourceMgr.getDescription("LblQuoteChar"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 17;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
    generalPanel.add(quoteCharLabel, gridBagConstraints);

    quoteCharField.setHorizontalAlignment(javax.swing.JTextField.LEFT);
    quoteCharField.setText(Settings.getInstance().getQuoteChar());
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 17;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 15);
    generalPanel.add(quoteCharField, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 21;
    gridBagConstraints.weighty = 1.0;
    generalPanel.add(jPanel1, gridBagConstraints);

    enableDbmsOutputLabel.setLabelFor(retrieveDbExplorer);
    enableDbmsOutputLabel.setText(ResourceMgr.getString("LblEnableDbmsOutput"));
    enableDbmsOutputLabel.setToolTipText(ResourceMgr.getDescription("LblEnableDbmsOutput"));
    enableDbmsOutputLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        enableDbmsOutputLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 6;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
    generalPanel.add(enableDbmsOutputLabel, gridBagConstraints);

    enableDbmsOutput.setFont(null);
    enableDbmsOutput.setSelected(Settings.getInstance().getEnableDbmsOutput());
    enableDbmsOutput.setText("");
    enableDbmsOutput.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    enableDbmsOutput.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    enableDbmsOutput.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 6;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(0, 7, 0, 3);
    generalPanel.add(enableDbmsOutput, gridBagConstraints);

    enableAnimatedIconLabel.setLabelFor(enableAnimatedIcon);
    enableAnimatedIconLabel.setText(ResourceMgr.getString("LblEnableAnimatedIcon"));
    enableAnimatedIconLabel.setToolTipText(ResourceMgr.getDescription("LblEnableAnimatedIcon"));
    enableAnimatedIconLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        enableAnimatedIconLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 7;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 12, 1, 0);
    generalPanel.add(enableAnimatedIconLabel, gridBagConstraints);

    enableAnimatedIcon.setFont(null);
    enableAnimatedIcon.setSelected(Settings.getInstance().getUseAnimatedIcon());
    enableAnimatedIcon.setText("");
    enableAnimatedIcon.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    enableAnimatedIcon.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    enableAnimatedIcon.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 7;
    gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(0, 7, 1, 25);
    generalPanel.add(enableAnimatedIcon, gridBagConstraints);

    consolidateLogLabel.setLabelFor(consolidateLog);
    consolidateLogLabel.setText(ResourceMgr.getString("LblConsolidateLog"));
    consolidateLogLabel.setToolTipText(ResourceMgr.getDescription("LblConsolidateLog"));
    consolidateLogLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        consolidateLogLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 5;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(0, 12, 1, 0);
    generalPanel.add(consolidateLogLabel, gridBagConstraints);

    consolidateLog.setFont(null);
    consolidateLog.setSelected(Settings.getInstance().getConsolidateLogMsg());
    consolidateLog.setText("");
    consolidateLog.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    consolidateLog.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    consolidateLog.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 5;
    gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(0, 7, 1, 11);
    generalPanel.add(consolidateLog, gridBagConstraints);

    defaultBufferSize.setText(Integer.toString(Settings.getInstance().getDbmsOutputDefaultBuffer()));
    defaultBufferSize.setMaximumSize(new java.awt.Dimension(2147483647, 21));
    defaultBufferSize.setMinimumSize(new java.awt.Dimension(100, 21));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 3;
    gridBagConstraints.gridy = 6;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(0, 3, 0, 15);
    generalPanel.add(defaultBufferSize, gridBagConstraints);

    bufferSizeLabel.setText(ResourceMgr.getString("LblDefaultBufferSize"));
    bufferSizeLabel.setToolTipText(ResourceMgr.getDescription("LblDefaultBufferSize"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 2;
    gridBagConstraints.gridy = 6;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    generalPanel.add(bufferSizeLabel, gridBagConstraints);

    timestampFormatLabel.setFont(null);
    timestampFormatLabel.setText(ResourceMgr.getString("LblTimestampFormat"));
    timestampFormatLabel.setToolTipText(ResourceMgr.getDescription("LblTimestampFormat"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 12;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 12, 0, 0);
    generalPanel.add(timestampFormatLabel, gridBagConstraints);

    timestampFormatTextField.setFont(getFont());
    timestampFormatTextField.setText(Settings.getInstance().getDefaultTimestampFormat());
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 12;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 10, 0, 15);
    generalPanel.add(timestampFormatTextField, gridBagConstraints);

    msgFontLabel.setText(ResourceMgr.getString("LblMsgLogFont"));
    msgFontLabel.setToolTipText(ResourceMgr.getDescription("LblMsgLogFont"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 9;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(7, 12, 0, 0);
    generalPanel.add(msgFontLabel, gridBagConstraints);

    standardFontLabel.setText(ResourceMgr.getString("LblStandardFont"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 8;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    generalPanel.add(standardFontLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 9;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 8, 0, 15);
    generalPanel.add(msgLogFont, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 8;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 8, 0, 15);
    generalPanel.add(standardFont, gridBagConstraints);

    mainTab.addTab(ResourceMgr.getString("LblSettingsGeneral"), generalPanel);

    editorTab.setLayout(new java.awt.GridBagLayout());

    autoAdvanceLabel.setLabelFor(autoAdvance);
    autoAdvanceLabel.setText(ResourceMgr.getString("LblAutoAdvance"));
    autoAdvanceLabel.setToolTipText(ResourceMgr.getDescription("LblAutoAdvance"));
    autoAdvanceLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        autoAdvanceLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(8, 12, 2, 0);
    editorTab.add(autoAdvanceLabel, gridBagConstraints);

    autoAdvance.setSelected(Settings.getInstance().getAutoJumpNextStatement());
    autoAdvance.setText("");
    autoAdvance.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    autoAdvance.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    autoAdvance.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(8, 7, 2, 11);
    editorTab.add(autoAdvance, gridBagConstraints);

    editorTabSizeLabel.setText(ResourceMgr.getString("LblTabWidth"));
    editorTabSizeLabel.setToolTipText(ResourceMgr.getDescription("LblTabWidth"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 11;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    editorTab.add(editorTabSizeLabel, gridBagConstraints);

    tabSize.setHorizontalAlignment(javax.swing.JTextField.LEFT);
    tabSize.setText(Settings.getInstance().getProperty("workbench.editor.tabwidth", "2"));
    tabSize.setMinimumSize(new java.awt.Dimension(72, 20));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 11;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(3, 11, 0, 15);
    editorTab.add(tabSize, gridBagConstraints);

    altDelimLabel.setText(ResourceMgr.getString("LblAltDelimit"));
    altDelimLabel.setToolTipText(ResourceMgr.getDescription("LblAltDelimit"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 7;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(9, 12, 0, 0);
    editorTab.add(altDelimLabel, gridBagConstraints);

    altDelimitTextField.setText(Settings.getInstance().getAlternateDelimiter());
    altDelimitTextField.setMinimumSize(new java.awt.Dimension(72, 20));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 7;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(6, 11, 0, 15);
    editorTab.add(altDelimitTextField, gridBagConstraints);

    historySizeLabel.setText(ResourceMgr.getString("LblHistorySize"));
    historySizeLabel.setToolTipText(ResourceMgr.getDescription("LblHistorySize"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 8;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(4, 12, 0, 0);
    editorTab.add(historySizeLabel, gridBagConstraints);

    historySizeField.setText(Integer.toString(Settings.getInstance().getMaxHistorySize()));
    historySizeField.setMinimumSize(new java.awt.Dimension(72, 20));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 8;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(3, 11, 0, 15);
    editorTab.add(historySizeField, gridBagConstraints);

    electricScrollLabel.setText(ResourceMgr.getString("LblSettingElectricScroll"));
    electricScrollLabel.setToolTipText(ResourceMgr.getDescription("LblSettingElectricScroll"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 9;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    editorTab.add(electricScrollLabel, gridBagConstraints);

    electricScroll.setText(Integer.toString(Settings.getInstance().getElectricScroll()));
    electricScroll.setMinimumSize(new java.awt.Dimension(72, 20));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 9;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(3, 11, 0, 15);
    editorTab.add(electricScroll, gridBagConstraints);

    rightClickLabel.setText(ResourceMgr.getString("LblRightClickMove"));
    rightClickLabel.setToolTipText(ResourceMgr.getDescription("LblRightClickMove"));
    rightClickLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        rightClickLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    editorTab.add(rightClickLabel, gridBagConstraints);

    rightClickMovesCursor.setSelected(Settings.getInstance().getRightClickMovesCursor());
    rightClickMovesCursor.setText("");
    rightClickMovesCursor.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    rightClickMovesCursor.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    rightClickMovesCursor.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(1, 7, 0, 11);
    editorTab.add(rightClickMovesCursor, gridBagConstraints);

    windowTitleLabel.setText(ResourceMgr.getString("LblShowEditorInfo"));
    windowTitleLabel.setToolTipText(ResourceMgr.getDescription("LblShowEditorInfo"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 10;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.insets = new java.awt.Insets(3, 12, 0, 0);
    editorTab.add(windowTitleLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 10;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(3, 11, 0, 15);
    editorTab.add(windowTitleComboBox, gridBagConstraints);

    selectionColorLabel.setText(ResourceMgr.getString("LblSelectionColor"));
    selectionColorLabel.setToolTipText(ResourceMgr.getDescription("LblSelectionColor"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 6;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(8, 12, 0, 0);
    editorTab.add(selectionColorLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 5;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
    editorTab.add(errorColor, gridBagConstraints);

    errorColorLabel.setText(ResourceMgr.getString("LblSelectErrorColor"));
    errorColorLabel.setToolTipText(ResourceMgr.getDescription("LblSelectErrorColor"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 5;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(9, 12, 0, 0);
    editorTab.add(errorColorLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 6;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(4, 5, 0, 0);
    editorTab.add(selectionColor, gridBagConstraints);

    editorFontLabel.setText(ResourceMgr.getString("LblEditorFont"));
    editorFontLabel.setToolTipText(ResourceMgr.getDescription("LblEditorFont"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(9, 12, 0, 0);
    editorTab.add(editorFontLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 10, 0, 15);
    editorTab.add(editorFont, gridBagConstraints);

    labelCloseSearch.setText(ResourceMgr.getString("TxtCloseCompletion"));
    labelCloseSearch.setToolTipText(ResourceMgr.getDescription("TxtCloseCompletion"));
    labelCloseSearch.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        labelCloseSearchMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    editorTab.add(labelCloseSearch, gridBagConstraints);

    closePopup.setSelected(Settings.getInstance().getCloseAutoCompletionWithSearch());
    closePopup.setText("");
    closePopup.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    closePopup.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(1, 7, 0, 11);
    editorTab.add(closePopup, gridBagConstraints);

    completionPasteCase.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Lowercase", "Uppercase", "As is" }));
    completionPasteCase.setToolTipText(ResourceMgr.getDescription("LblPasteCase"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(3, 11, 0, 15);
    editorTab.add(completionPasteCase, gridBagConstraints);

    pasteLabel.setText(ResourceMgr.getString("LblPasteCase"));
    pasteLabel.setToolTipText(ResourceMgr.getDescription("LblPasteCase"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(6, 12, 0, 0);
    editorTab.add(pasteLabel, gridBagConstraints);

    mainTab.addTab(ResourceMgr.getString("LblSettingsEditor"), editorTab);

    dataEdit.setLayout(new java.awt.GridBagLayout());

    pkMapFileLabel.setText(ResourceMgr.getString("LblPKMapFile"));
    pkMapFileLabel.setToolTipText(ResourceMgr.getDescription("LblPKMapFile"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 8;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(11, 12, 0, 0);
    dataEdit.add(pkMapFileLabel, gridBagConstraints);

    jPanel3.setLayout(new java.awt.BorderLayout(5, 0));

    pkMapFile.setHorizontalAlignment(javax.swing.JTextField.LEFT);
    pkMapFile.setText(Settings.getInstance().getPKMappingFilename());
    pkMapFile.setMaximumSize(new java.awt.Dimension(2147483647, 22));
    pkMapFile.setMinimumSize(new java.awt.Dimension(6, 22));
    pkMapFile.setPreferredSize(new java.awt.Dimension(72, 22));
    jPanel3.add(pkMapFile, java.awt.BorderLayout.CENTER);

    selectMapFile.setText("...");
    selectMapFile.setMaximumSize(new java.awt.Dimension(22, 22));
    selectMapFile.setMinimumSize(new java.awt.Dimension(22, 22));
    selectMapFile.setPreferredSize(new java.awt.Dimension(22, 22));
    selectMapFile.addActionListener(new java.awt.event.ActionListener()
    {
      public void actionPerformed(java.awt.event.ActionEvent evt)
      {
        selectMapFile(evt);
      }
    });

    jPanel3.add(selectMapFile, java.awt.BorderLayout.EAST);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 8;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(7, 10, 0, 15);
    dataEdit.add(jPanel3, gridBagConstraints);

    previewDmlLabel.setLabelFor(previewDml);
    previewDmlLabel.setText(ResourceMgr.getString("LblPreviewDml"));
    previewDmlLabel.setToolTipText(ResourceMgr.getDescription("LblPreviewDml"));
    previewDmlLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        previewDmlLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(14, 12, 0, 0);
    dataEdit.add(previewDmlLabel, gridBagConstraints);

    previewDml.setFont(null);
    previewDml.setSelected(Settings.getInstance().getPreviewDml());
    previewDml.setText("");
    previewDml.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    previewDml.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    previewDml.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(10, 7, 0, 11);
    dataEdit.add(previewDml, gridBagConstraints);

    labelRowHeight.setLabelFor(rowHeightResize);
    labelRowHeight.setText(ResourceMgr.getString("LblRowResize"));
    labelRowHeight.setToolTipText(ResourceMgr.getDescription("LblRowResize"));
    labelRowHeight.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        labelRowHeightMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(7, 12, 0, 0);
    dataEdit.add(labelRowHeight, gridBagConstraints);

    rowHeightResize.setSelected(Settings.getInstance().getAllowRowHeightResizing());
    rowHeightResize.setText("");
    rowHeightResize.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    rowHeightResize.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    rowHeightResize.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(3, 7, 0, 11);
    dataEdit.add(rowHeightResize, gridBagConstraints);

    requiredFieldLabel.setText(ResourceMgr.getString("LblReqFldColor"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(8, 12, 0, 0);
    dataEdit.add(requiredFieldLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(4, 4, 0, 25);
    dataEdit.add(requiredFieldColor, gridBagConstraints);

    dataFontLabel.setText(ResourceMgr.getString("LblDataFont"));
    dataFontLabel.setToolTipText(ResourceMgr.getDescription("LblDataFont"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 7;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    dataEdit.add(dataFontLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 7;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 10, 0, 15);
    dataEdit.add(dataFont, gridBagConstraints);

    highlightRequiredLabel.setLabelFor(highlightRequired);
    highlightRequiredLabel.setText(ResourceMgr.getString("LblHiliteRqd"));
    highlightRequiredLabel.setToolTipText(ResourceMgr.getDescription("LblHiliteRqd"));
    highlightRequiredLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        highlightRequiredLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(7, 12, 0, 0);
    dataEdit.add(highlightRequiredLabel, gridBagConstraints);

    highlightRequired.setFont(null);
    highlightRequired.setSelected(Settings.getInstance().getHighlightRequiredFields());
    highlightRequired.setText("");
    highlightRequired.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    highlightRequired.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    highlightRequired.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(3, 7, 0, 11);
    dataEdit.add(highlightRequired, gridBagConstraints);

    mainTab.addTab(ResourceMgr.getString("LblDataEdit"), dataEdit);

    explorerPanel.setLayout(new java.awt.GridBagLayout());

    dbExplorerLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    dbExplorerLabel.setLabelFor(showDbExplorer);
    dbExplorerLabel.setText(ResourceMgr.getString("LblDbExplorerCheckBox"));
    dbExplorerLabel.setToolTipText(ResourceMgr.getDescription("LblDbExplorerCheckBox"));
    dbExplorerLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        dbExplorerLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(7, 12, 0, 0);
    explorerPanel.add(dbExplorerLabel, gridBagConstraints);

    showDbExplorer.setFont(null);
    showDbExplorer.setSelected(Settings.getInstance().getShowDbExplorerInMainWindow());
    showDbExplorer.setText("");
    showDbExplorer.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    showDbExplorer.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    showDbExplorer.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(3, 5, 0, 11);
    explorerPanel.add(showDbExplorer, gridBagConstraints);

    retrieveDbExplorer.setFont(null);
    retrieveDbExplorer.setSelected(Settings.getInstance().getRetrieveDbExplorer());
    retrieveDbExplorer.setText("");
    retrieveDbExplorer.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    retrieveDbExplorer.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    retrieveDbExplorer.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(4, 5, 0, 5);
    explorerPanel.add(retrieveDbExplorer, gridBagConstraints);

    retrieveDbExplorerLabel.setLabelFor(retrieveDbExplorer);
    retrieveDbExplorerLabel.setText(ResourceMgr.getString("LblRetrieveDbExplorer"));
    retrieveDbExplorerLabel.setToolTipText(ResourceMgr.getDescription("LblRetrieveDbExplorer"));
    retrieveDbExplorerLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        retrieveDbExplorerLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(8, 12, 0, 0);
    explorerPanel.add(retrieveDbExplorerLabel, gridBagConstraints);

    defTableTypeLabel1.setText(ResourceMgr.getString("LblDefTableType"));
    defTableTypeLabel1.setToolTipText(ResourceMgr.getDescription("LblDefTableType"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(11, 12, 0, 0);
    explorerPanel.add(defTableTypeLabel1, gridBagConstraints);

    defTableTypeField.setHorizontalAlignment(javax.swing.JTextField.LEFT);
    defTableTypeField.setText(Settings.getInstance().getProperty("workbench.dbexplorer.defTableType", null));
    defTableTypeField.setMinimumSize(new java.awt.Dimension(72, 20));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(9, 9, 0, 15);
    explorerPanel.add(defTableTypeField, gridBagConstraints);

    rememberSchemaLabel.setText(ResourceMgr.getString("LblRememberSchema"));
    rememberSchemaLabel.setToolTipText(ResourceMgr.getDescription("LblRememberSchema"));
    rememberSchemaLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        rememberSchemaLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(7, 12, 0, 0);
    explorerPanel.add(rememberSchemaLabel, gridBagConstraints);

    storeExplorerSchema.setSelected(Settings.getInstance().getStoreExplorerSchema());
    storeExplorerSchema.setText("");
    storeExplorerSchema.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
    storeExplorerSchema.setMargin(new java.awt.Insets(0, 0, 0, 0));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.insets = new java.awt.Insets(6, 9, 0, 0);
    explorerPanel.add(storeExplorerSchema, gridBagConstraints);

    rememberObjectLabel.setText(ResourceMgr.getString("LblRememberObjectType"));
    rememberObjectLabel.setToolTipText(ResourceMgr.getDescription("LblRememberObjectType"));
    rememberObjectLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        rememberObjectLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(10, 12, 0, 0);
    explorerPanel.add(rememberObjectLabel, gridBagConstraints);

    rememberObject.setSelected(Settings.getInstance().getStoreExplorerObjectType());
    rememberObject.setText("");
    rememberObject.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
    rememberObject.setMargin(new java.awt.Insets(0, 0, 0, 0));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.insets = new java.awt.Insets(9, 9, 0, 0);
    explorerPanel.add(rememberObject, gridBagConstraints);

    mainTab.addTab(ResourceMgr.getString("LblSettingsDbExplorer"), explorerPanel);

    formatterPanel.setLayout(new java.awt.GridBagLayout());

    internalFormatterPanel.setLayout(new java.awt.GridBagLayout());

    internalFormatterPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Generated Statements"));
    formatUpdates.setFont(null);
    formatUpdates.setSelected(Settings.getInstance().getDoFormatUpdates());
    formatUpdates.setText("");
    formatUpdates.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    formatUpdates.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    formatUpdates.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 11);
    internalFormatterPanel.add(formatUpdates, gridBagConstraints);

    formatUpdatesLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    formatUpdatesLabel.setLabelFor(formatUpdates);
    formatUpdatesLabel.setText(ResourceMgr.getString("LblFmtUpd"));
    formatUpdatesLabel.setToolTipText(ResourceMgr.getDescription("LblFmtUpd"));
    formatUpdatesLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        formatUpdatesLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(4, 12, 0, 0);
    internalFormatterPanel.add(formatUpdatesLabel, gridBagConstraints);

    formatInsertsLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    formatInsertsLabel.setLabelFor(formatInserts);
    formatInsertsLabel.setText(ResourceMgr.getString("LblFmtIns"));
    formatInsertsLabel.setToolTipText(ResourceMgr.getDescription("LblFmtIns"));
    formatInsertsLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        formatInsertsLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(8, 12, 0, 0);
    internalFormatterPanel.add(formatInsertsLabel, gridBagConstraints);

    formatInserts.setFont(null);
    formatInserts.setSelected(Settings.getInstance().getDoFormatInserts());
    formatInserts.setText("");
    formatInserts.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    formatInserts.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    formatInserts.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(4, 5, 0, 11);
    internalFormatterPanel.add(formatInserts, gridBagConstraints);

    insertColThresholdLbl.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    insertColThresholdLbl.setLabelFor(formatInserts);
    insertColThresholdLbl.setText(ResourceMgr.getString("LblInsThres"));
    insertColThresholdLbl.setToolTipText(ResourceMgr.getDescription("LblInsThres"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 18, 0, 0);
    internalFormatterPanel.add(insertColThresholdLbl, gridBagConstraints);

    insertThreshold.setText(Integer.toString(Settings.getInstance().getFormatInsertColumnThreshold()));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(0, 9, 0, 15);
    internalFormatterPanel.add(insertThreshold, gridBagConstraints);

    updateThreshold.setText(Integer.toString(Settings.getInstance().getFormatUpdateColumnThreshold()));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(1, 9, 0, 15);
    internalFormatterPanel.add(updateThreshold, gridBagConstraints);

    updateColThresholdLbl.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    updateColThresholdLbl.setLabelFor(updateThreshold);
    updateColThresholdLbl.setText(ResourceMgr.getString("LblUpdThres"));
    updateColThresholdLbl.setToolTipText(ResourceMgr.getDescription("LblUpdThres"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(3, 18, 0, 0);
    internalFormatterPanel.add(updateColThresholdLbl, gridBagConstraints);

    ignoreIdentityLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    ignoreIdentityLabel.setLabelFor(ignoreIdentity);
    ignoreIdentityLabel.setText(ResourceMgr.getString("LblInsIgnoreId"));
    ignoreIdentityLabel.setToolTipText(ResourceMgr.getDescription("LblInsIgnoreId"));
    ignoreIdentityLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        ignoreIdentityLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 6;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 18, 0, 0);
    internalFormatterPanel.add(ignoreIdentityLabel, gridBagConstraints);

    ignoreIdentity.setFont(null);
    ignoreIdentity.setSelected(Settings.getInstance().getFormatInsertIgnoreIdentity());
    ignoreIdentity.setText("");
    ignoreIdentity.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    ignoreIdentity.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    ignoreIdentity.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 6;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(1, 5, 0, 11);
    internalFormatterPanel.add(ignoreIdentity, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.gridwidth = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.insets = new java.awt.Insets(7, 0, 0, 0);
    internalFormatterPanel.add(jSeparator1, gridBagConstraints);

    insertColsPerLine.setText(Integer.toString(Settings.getInstance().getFormatInsertColsPerLine()));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 5;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 9, 0, 15);
    internalFormatterPanel.add(insertColsPerLine, gridBagConstraints);

    colsPerLineLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    colsPerLineLabel.setLabelFor(insertColsPerLine);
    colsPerLineLabel.setText(ResourceMgr.getString("LblInsColsPerLine"));
    colsPerLineLabel.setToolTipText(ResourceMgr.getDescription("LblInsColsPerLine"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 5;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(4, 18, 0, 0);
    internalFormatterPanel.add(colsPerLineLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 7;
    gridBagConstraints.gridwidth = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.insets = new java.awt.Insets(2, 0, 2, 0);
    internalFormatterPanel.add(jSeparator2, gridBagConstraints);

    includeOwner.setFont(null);
    includeOwner.setSelected(Settings.getInstance().getIncludeOwnerInSqlExport());
    includeOwner.setText("");
    includeOwner.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    includeOwner.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
    includeOwner.setIconTextGap(5);
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 8;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(1, 5, 0, 11);
    internalFormatterPanel.add(includeOwner, gridBagConstraints);

    includeOwnerLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    includeOwnerLabel.setLabelFor(includeOwner);
    includeOwnerLabel.setText(ResourceMgr.getString("LblGenInclOwn"));
    includeOwnerLabel.setToolTipText(ResourceMgr.getDescription("LblGenInclOwn"));
    includeOwnerLabel.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        includeOwnerLabelMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 8;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    internalFormatterPanel.add(includeOwnerLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.weighty = 0.5;
    formatterPanel.add(internalFormatterPanel, gridBagConstraints);

    editorFormatterPanel.setLayout(new java.awt.GridBagLayout());

    editorFormatterPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Editor"));
    subselectMaxLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    subselectMaxLabel.setLabelFor(updateThreshold);
    subselectMaxLabel.setText(ResourceMgr.getString("LblMaxSub"));
    subselectMaxLabel.setToolTipText(ResourceMgr.getDescription("LblMaxSub"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(3, 12, 0, 0);
    editorFormatterPanel.add(subselectMaxLabel, gridBagConstraints);

    subselectMaxLength.setText(Integer.toString(Settings.getInstance().getFormatterMaxSubselectLength()));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(1, 9, 0, 15);
    editorFormatterPanel.add(subselectMaxLength, gridBagConstraints);

    maxCharElementsLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    maxCharElementsLabel.setLabelFor(maxCharElements);
    maxCharElementsLabel.setText(ResourceMgr.getString("LblMaxCharEle"));
    maxCharElementsLabel.setToolTipText(ResourceMgr.getDescription("LblMaxCharEle"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    editorFormatterPanel.add(maxCharElementsLabel, gridBagConstraints);

    maxCharElements.setText(Integer.toString(Settings.getInstance().getMaxCharInListElements()));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(3, 9, 0, 15);
    editorFormatterPanel.add(maxCharElements, gridBagConstraints);

    maxNumElementsLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    maxNumElementsLabel.setLabelFor(maxNumElements);
    maxNumElementsLabel.setText(ResourceMgr.getString("LblMaxNumEle"));
    maxNumElementsLabel.setToolTipText(ResourceMgr.getDescription("LblMaxNumEle"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    editorFormatterPanel.add(maxNumElementsLabel, gridBagConstraints);

    maxNumElements.setText(Integer.toString(Settings.getInstance().getMaxNumInListElements()));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(3, 9, 0, 15);
    editorFormatterPanel.add(maxNumElements, gridBagConstraints);

    selectColumns.setText(Integer.toString(Settings.getInstance().getFormatterMaxColumnsInSelect()));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(3, 9, 0, 15);
    editorFormatterPanel.add(selectColumns, gridBagConstraints);

    selectColumnsLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
    selectColumnsLabel.setLabelFor(selectColumns);
    selectColumnsLabel.setText(ResourceMgr.getString("LblSqlFmtColNum"));
    selectColumnsLabel.setToolTipText(ResourceMgr.getDescription("LblSqlFmtColNum"));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 12, 0, 0);
    editorFormatterPanel.add(selectColumnsLabel, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weighty = 0.5;
    formatterPanel.add(editorFormatterPanel, gridBagConstraints);

    mainTab.addTab(ResourceMgr.getString("LblSqlFormat"), formatterPanel);

    add(mainTab, java.awt.BorderLayout.CENTER);

    buttonPanel.setLayout(new java.awt.GridBagLayout());

    okButton.setText(ResourceMgr.getString("LblOK"));
    okButton.addActionListener(new java.awt.event.ActionListener()
    {
      public void actionPerformed(java.awt.event.ActionEvent evt)
      {
        okButtonActionPerformed(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 2;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(7, 0, 7, 10);
    buttonPanel.add(okButton, gridBagConstraints);

    cancelButton.setText(ResourceMgr.getString("LblCancel"));
    cancelButton.addActionListener(new java.awt.event.ActionListener()
    {
      public void actionPerformed(java.awt.event.ActionEvent evt)
      {
        cancelButtonActionPerformed(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 3;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
    gridBagConstraints.insets = new java.awt.Insets(7, 0, 7, 4);
    buttonPanel.add(cancelButton, gridBagConstraints);

    helpButton.setText(ResourceMgr.getString("LblHelp"));
    helpButton.addMouseListener(new java.awt.event.MouseAdapter()
    {
      public void mouseClicked(java.awt.event.MouseEvent evt)
      {
        helpButtonMouseClicked(evt);
      }
    });

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
    gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
    buttonPanel.add(helpButton, gridBagConstraints);

    add(buttonPanel, java.awt.BorderLayout.SOUTH);

  }// </editor-fold>//GEN-END:initComponents

	private void includeOwnerLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_includeOwnerLabelMouseClicked
	{//GEN-HEADEREND:event_includeOwnerLabelMouseClicked
		includeOwner.setSelected(!includeOwner.isSelected());
	}//GEN-LAST:event_includeOwnerLabelMouseClicked

	private void helpButtonMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_helpButtonMouseClicked
	{//GEN-HEADEREND:event_helpButtonMouseClicked
		HtmlViewer viewer = new HtmlViewer(this.dialog);
		viewer.showOptionsHelp();
		viewer.setVisible(true);
	}//GEN-LAST:event_helpButtonMouseClicked

	private void ignoreIdentityLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_ignoreIdentityLabelMouseClicked
	{//GEN-HEADEREND:event_ignoreIdentityLabelMouseClicked
		ignoreIdentity.setSelected(!ignoreIdentity.isSelected());
	}//GEN-LAST:event_ignoreIdentityLabelMouseClicked

	private void formatInsertsLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_formatInsertsLabelMouseClicked
	{//GEN-HEADEREND:event_formatInsertsLabelMouseClicked
		formatInserts.setSelected(!formatInserts.isSelected());
	}//GEN-LAST:event_formatInsertsLabelMouseClicked

	private void formatUpdatesLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_formatUpdatesLabelMouseClicked
	{//GEN-HEADEREND:event_formatUpdatesLabelMouseClicked
		formatUpdates.setSelected(!formatUpdates.isSelected());
	}//GEN-LAST:event_formatUpdatesLabelMouseClicked

	private void highlightRequiredLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_highlightRequiredLabelMouseClicked
	{//GEN-HEADEREND:event_highlightRequiredLabelMouseClicked
		highlightRequired.setSelected(!highlightRequired.isSelected());
	}//GEN-LAST:event_highlightRequiredLabelMouseClicked

	private void labelCloseSearchMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_labelCloseSearchMouseClicked
	{//GEN-HEADEREND:event_labelCloseSearchMouseClicked
		closePopup.setSelected(!closePopup.isSelected());
	}//GEN-LAST:event_labelCloseSearchMouseClicked

	private void rememberObjectLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_rememberObjectLabelMouseClicked
	{//GEN-HEADEREND:event_rememberObjectLabelMouseClicked
		this.rememberObject.setSelected(!this.rememberObject.isSelected());
	}//GEN-LAST:event_rememberObjectLabelMouseClicked

	private void labelRowHeightMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_labelRowHeightMouseClicked
	{//GEN-HEADEREND:event_labelRowHeightMouseClicked
		this.rowHeightResize.setSelected(!this.rowHeightResize.isSelected());
	}//GEN-LAST:event_labelRowHeightMouseClicked

	private void selectMapFile(java.awt.event.ActionEvent evt)//GEN-FIRST:event_selectMapFile
	{//GEN-HEADEREND:event_selectMapFile
		String fileName = FileDialogUtil.selectPkMapFile(this);
		if (fileName != null) pkMapFile.setText(fileName); 
	}//GEN-LAST:event_selectMapFile

	private void rightClickLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_rightClickLabelMouseClicked
	{//GEN-HEADEREND:event_rightClickLabelMouseClicked
		rightClickMovesCursor.setSelected(!rightClickMovesCursor.isSelected());
	}//GEN-LAST:event_rightClickLabelMouseClicked

	private void rememberSchemaLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_rememberSchemaLabelMouseClicked
	{//GEN-HEADEREND:event_rememberSchemaLabelMouseClicked
		storeExplorerSchema.setSelected(!storeExplorerSchema.isSelected());
	}//GEN-LAST:event_rememberSchemaLabelMouseClicked

	private void dbExplorerLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_dbExplorerLabelMouseClicked
	{//GEN-HEADEREND:event_dbExplorerLabelMouseClicked
		this.showDbExplorer.setSelected(!this.showDbExplorer.isSelected());
	}//GEN-LAST:event_dbExplorerLabelMouseClicked

	private void autoAdvanceLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_autoAdvanceLabelMouseClicked
	{//GEN-HEADEREND:event_autoAdvanceLabelMouseClicked
		this.autoAdvance.setSelected(!this.autoAdvance.isSelected());
	}//GEN-LAST:event_autoAdvanceLabelMouseClicked

  private void previewDmlLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_previewDmlLabelMouseClicked
  {//GEN-HEADEREND:event_previewDmlLabelMouseClicked
	this.previewDml.setSelected(!this.previewDml.isSelected());
  }//GEN-LAST:event_previewDmlLabelMouseClicked

  private void consolidateLogLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_consolidateLogLabelMouseClicked
  {//GEN-HEADEREND:event_consolidateLogLabelMouseClicked
	this.consolidateLog.setSelected(!this.consolidateLog.isSelected());
  }//GEN-LAST:event_consolidateLogLabelMouseClicked

	private void enableAnimatedIconLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_enableAnimatedIconLabelMouseClicked
	{//GEN-HEADEREND:event_enableAnimatedIconLabelMouseClicked
		this.enableAnimatedIcon.setSelected(!this.enableAnimatedIcon.isSelected());
	}//GEN-LAST:event_enableAnimatedIconLabelMouseClicked

	private void enableDbmsOutputLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_enableDbmsOutputLabelMouseClicked
	{//GEN-HEADEREND:event_enableDbmsOutputLabelMouseClicked
		this.enableDbmsOutput.setSelected(!this.enableDbmsOutput.isSelected());
		this.defaultBufferSize.setEnabled(this.enableDbmsOutput.isSelected());
	}//GEN-LAST:event_enableDbmsOutputLabelMouseClicked

	private void retrieveDbExplorerLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_retrieveDbExplorerLabelMouseClicked
	{//GEN-HEADEREND:event_retrieveDbExplorerLabelMouseClicked
		this.retrieveDbExplorer.setSelected(!this.retrieveDbExplorer.isSelected());
	}//GEN-LAST:event_retrieveDbExplorerLabelMouseClicked

	private void useEncryptionLabelMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_useEncryptionLabelMouseClicked
	{//GEN-HEADEREND:event_useEncryptionLabelMouseClicked
		this.useEncryption.setSelected(!this.useEncryption.isSelected());
	}//GEN-LAST:event_useEncryptionLabelMouseClicked

	private void cancelButtonActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_cancelButtonActionPerformed
	{//GEN-HEADEREND:event_cancelButtonActionPerformed
		this.closeWindow();
	}//GEN-LAST:event_cancelButtonActionPerformed

	private void okButtonActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_okButtonActionPerformed
	{//GEN-HEADEREND:event_okButtonActionPerformed
		if (this.saveSettings()) this.closeWindow();
	}//GEN-LAST:event_okButtonActionPerformed

	private boolean saveSettings()
	{
		Settings set = Settings.getInstance();
		
		// General settings
		set.setStandardFont(standardFont.getSelectedFont());
		set.setUseEncryption(this.useEncryption.isSelected());
		set.setMsgLogFont(msgLogFont.getSelectedFont());
		set.setUseAnimatedIcon(this.enableAnimatedIcon.isSelected());
		set.setDefaultDateFormat(this.dateFormatTextField.getText());
		set.setDefaultTimestampFormat(this.timestampFormatTextField.getText());
		set.setMaxHistorySize(((NumberField)this.historySizeField).getValue());
		set.setMaxColumnWidth(((NumberField)this.maxColSizeField).getValue());
		set.setMaxFractionDigits(((NumberField)this.maxDigitsField).getValue());
		set.setQuoteChar(this.quoteCharField.getText().trim());
		set.setEnableDbmsOutput(this.enableDbmsOutput.isSelected());
		set.setConsolidateLogMsg(this.consolidateLog.isSelected());
    set.setDbmsOutputDefaultBuffer(StringUtil.getIntValue(this.defaultBufferSize.getText(), -1));
		set.setDecimalSymbol(this.decimalField.getText());
		set.setDefaultTextDelimiter(this.textDelimiterField.getText());
		
		// SQL Formatting
		set.setMaxNumInListElements(StringUtil.getIntValue(maxNumElements.getText(),-1));
		set.setMaxCharInListElements(StringUtil.getIntValue(maxCharElements.getText(),-1));
		set.setDoFormatUpdates(formatUpdates.isSelected());
		set.setDoFormatInserts(formatInserts.isSelected());
		set.setFormatInsertColsPerLine(StringUtil.getIntValue(insertColsPerLine.getText(),1));
		set.setFormatInsertColumnThreshold(StringUtil.getIntValue(insertThreshold.getText(),5));
		set.setFormatUpdateColumnThreshold(StringUtil.getIntValue(updateThreshold.getText(),5));
		set.setFormatterMaxSubselectLength(StringUtil.getIntValue(subselectMaxLength.getText(),60));
		set.setFormatterMaxColumnsInSelect(StringUtil.getIntValue(selectColumns.getText(),1));
		set.setIncludeOwnerInSqlExport(includeOwner.isSelected());
		
		// Editor settings
		set.setAutoCompletionPasteCase((String)this.completionPasteCase.getSelectedItem());
		set.setCloseAutoCompletionWithSearch(closePopup.isSelected());
		set.setEditorErrorColor(errorColor.getSelectedColor());
		set.setEditorFont(editorFont.getSelectedFont());
		set.setAlternateDelimiter(this.altDelimitTextField.getText());
		set.setRightClickMovesCursor(rightClickMovesCursor.isSelected());
		set.setShowFilenameInWindowTitle(this.windowTitleComboBox.getSelectedIndex());
		set.setEditorSelectionColor(selectionColor.getSelectedColor());
		set.setAutoJumpNextStatement(this.autoAdvance.isSelected());
		set.setEditorTabWidth(StringUtil.getIntValue(this.tabSize.getText(), 2));
		set.setElectricScroll(StringUtil.getIntValue(electricScroll.getText(),-1));
		
		// DB Explorer
		set.setRetrieveDbExplorer(retrieveDbExplorer.isSelected());
		set.setShowDbExplorerInMainWindow(this.showDbExplorer.isSelected());
		set.setStoreExplorerSchema(this.storeExplorerSchema.isSelected());
		set.setStoreExplorerObjectType(this.rememberObject.isSelected());
		set.setProperty("workbench.dbexplorer.defTableType", this.defTableTypeField.getText());
		
		// Data editing
		set.setAllowRowHeightResizing(rowHeightResize.isSelected());
		set.setDataFont(dataFont.getSelectedFont());
		set.setRequiredFieldColor(requiredFieldColor.getSelectedColor());
		set.setHighlightRequiredFields(this.highlightRequired.isSelected());
		set.setPreviewDml(this.previewDml.isSelected());
		set.setPKMappingFilename(pkMapFile.getText());
		return true;
	}

	public void showSettingsDialog(JFrame aReference)
	{
		this.dialog = new JDialog(aReference, true);
		this.dialog.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);
		this.dialog.setTitle(ResourceMgr.getString("TxtSettingsDialogTitle"));
		this.dialog.getContentPane().add(this);
		int width = Settings.getInstance().getWindowWidth(this.getClass().getName());
		int height = Settings.getInstance().getWindowHeight(this.getClass().getName());
		if (width > 0 && height > 0)
		{
			this.dialog.setSize(width, height);
		}
		else
		{
			this.dialog.setSize(500,460);
		}
		
		this.dialog.getRootPane().setDefaultButton(this.okButton);

		JRootPane root = dialog.getRootPane();
		InputMap im = root.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);
		ActionMap am = root.getActionMap();
		EscAction esc = new EscAction(this);
		escActionCommand = esc.getActionName();
		im.put(esc.getAccelerator(), esc.getActionName());
		am.put(esc.getActionName(), esc);

		WbSwingUtilities.center(this.dialog, aReference);
		this.dialog.setVisible(true);
	}

	private void closeWindow()
	{
		Settings.getInstance().setWindowSize(this.getClass().getName(), this.dialog.getWidth(), this.dialog.getHeight());
		this.dialog.setVisible(false);
		this.dialog.dispose();
	}

	public void actionPerformed(java.awt.event.ActionEvent e)
	{
		if (e.getSource() == this.enableDbmsOutput)
		{
			this.defaultBufferSize.setEnabled(this.enableDbmsOutput.isSelected());
		}
		else if (e.getActionCommand().equals(escActionCommand))
		{
			this.closeWindow();
		}
	}

  // Variables declaration - do not modify//GEN-BEGIN:variables
  private javax.swing.JLabel altDelimLabel;
  private javax.swing.JTextField altDelimitTextField;
  private javax.swing.JCheckBox autoAdvance;
  private javax.swing.JLabel autoAdvanceLabel;
  private javax.swing.JLabel bufferSizeLabel;
  private javax.swing.JPanel buttonPanel;
  private javax.swing.JButton cancelButton;
  private javax.swing.JCheckBox closePopup;
  private javax.swing.JLabel colsPerLineLabel;
  private javax.swing.JComboBox completionPasteCase;
  private javax.swing.JCheckBox consolidateLog;
  private javax.swing.JLabel consolidateLogLabel;
  private javax.swing.JPanel dataEdit;
  private workbench.gui.components.WbFontPicker dataFont;
  private javax.swing.JLabel dataFontLabel;
  private javax.swing.JLabel dateFormatLabel;
  private javax.swing.JTextField dateFormatTextField;
  private javax.swing.JLabel dbExplorerLabel;
  private javax.swing.JTextField decimalField;
  private javax.swing.JLabel decimalLabel;
  private javax.swing.JTextField defTableTypeField;
  private javax.swing.JLabel defTableTypeLabel1;
  private javax.swing.JTextField defaultBufferSize;
  private workbench.gui.components.WbFontPicker editorFont;
  private javax.swing.JLabel editorFontLabel;
  private javax.swing.JPanel editorFormatterPanel;
  private javax.swing.JPanel editorTab;
  private javax.swing.JLabel editorTabSizeLabel;
  private javax.swing.JTextField electricScroll;
  private javax.swing.JLabel electricScrollLabel;
  private javax.swing.JCheckBox enableAnimatedIcon;
  private javax.swing.JLabel enableAnimatedIconLabel;
  private javax.swing.JCheckBox enableDbmsOutput;
  private javax.swing.JLabel enableDbmsOutputLabel;
  private workbench.gui.components.WbColorPicker errorColor;
  private javax.swing.JLabel errorColorLabel;
  private javax.swing.JPanel explorerPanel;
  private javax.swing.JCheckBox formatInserts;
  private javax.swing.JLabel formatInsertsLabel;
  private javax.swing.JCheckBox formatUpdates;
  private javax.swing.JLabel formatUpdatesLabel;
  private javax.swing.JPanel formatterPanel;
  private javax.swing.JPanel generalPanel;
  private javax.swing.JButton helpButton;
  private javax.swing.JCheckBox highlightRequired;
  private javax.swing.JLabel highlightRequiredLabel;
  private javax.swing.JTextField historySizeField;
  private javax.swing.JLabel historySizeLabel;
  private javax.swing.JCheckBox ignoreIdentity;
  private javax.swing.JLabel ignoreIdentityLabel;
  private javax.swing.JCheckBox includeOwner;
  private javax.swing.JLabel includeOwnerLabel;
  private javax.swing.JLabel insertColThresholdLbl;
  private javax.swing.JTextField insertColsPerLine;
  private javax.swing.JTextField insertThreshold;
  private javax.swing.JPanel internalFormatterPanel;
  private javax.swing.JPanel jPanel1;
  private javax.swing.JPanel jPanel3;
  private javax.swing.JSeparator jSeparator1;
  private javax.swing.JSeparator jSeparator2;
  private javax.swing.JLabel labelCloseSearch;
  private javax.swing.JLabel labelRowHeight;
  private javax.swing.JTabbedPane mainTab;
  private javax.swing.JTextField maxCharElements;
  private javax.swing.JLabel maxCharElementsLabel;
  private javax.swing.JTextField maxColSizeField;
  private javax.swing.JLabel maxColSizeLabel;
  private javax.swing.JTextField maxDigitsField;
  private javax.swing.JLabel maxDigitsLabel;
  private javax.swing.JTextField maxNumElements;
  private javax.swing.JLabel maxNumElementsLabel;
  private javax.swing.JLabel msgFontLabel;
  private workbench.gui.components.WbFontPicker msgLogFont;
  private javax.swing.JButton okButton;
  private javax.swing.JLabel pasteLabel;
  private javax.swing.JTextField pkMapFile;
  private javax.swing.JLabel pkMapFileLabel;
  private javax.swing.JCheckBox previewDml;
  private javax.swing.JLabel previewDmlLabel;
  private javax.swing.JTextField quoteCharField;
  private javax.swing.JLabel quoteCharLabel;
  private javax.swing.JCheckBox rememberObject;
  private javax.swing.JLabel rememberObjectLabel;
  private javax.swing.JLabel rememberSchemaLabel;
  private workbench.gui.components.WbColorPicker requiredFieldColor;
  private javax.swing.JLabel requiredFieldLabel;
  private javax.swing.JCheckBox retrieveDbExplorer;
  private javax.swing.JLabel retrieveDbExplorerLabel;
  private javax.swing.JLabel rightClickLabel;
  private javax.swing.JCheckBox rightClickMovesCursor;
  private javax.swing.JCheckBox rowHeightResize;
  private javax.swing.JTextField selectColumns;
  private javax.swing.JLabel selectColumnsLabel;
  private javax.swing.JButton selectMapFile;
  private workbench.gui.components.WbColorPicker selectionColor;
  private javax.swing.JLabel selectionColorLabel;
  private javax.swing.JCheckBox showDbExplorer;
  private workbench.gui.components.WbFontPicker standardFont;
  private javax.swing.JLabel standardFontLabel;
  private javax.swing.JCheckBox storeExplorerSchema;
  private javax.swing.JLabel subselectMaxLabel;
  private javax.swing.JTextField subselectMaxLength;
  private javax.swing.JTextField tabSize;
  private javax.swing.JTextField textDelimiterField;
  private javax.swing.JLabel textDelimiterLabel;
  private javax.swing.JLabel timestampFormatLabel;
  private javax.swing.JTextField timestampFormatTextField;
  private javax.swing.JLabel updateColThresholdLbl;
  private javax.swing.JTextField updateThreshold;
  private javax.swing.JCheckBox useEncryption;
  private javax.swing.JLabel useEncryptionLabel;
  private javax.swing.JComboBox windowTitleComboBox;
  private javax.swing.JLabel windowTitleLabel;
  // End of variables declaration//GEN-END:variables

	private JDialog dialog;

}
